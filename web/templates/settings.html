{{define "settings"}}<div class="settings-overlay" onclick="if(event.target===this)document.getElementById('settings-container').innerHTML=''">
  <div class="settings-panel">
    <div class="settings-header">
      <h2>Settings</h2>
      <button class="settings-close" onclick="document.getElementById('settings-container').innerHTML=''">&times;</button>
    </div>
    <div class="settings-body">
      <h3>Regions</h3>
      <p class="settings-desc">Select which regions appear in the dropdown.</p>
      <div class="region-actions">
        <button class="btn btn-sm" hx-put="/settings/regions/all?enabled=true" hx-target="#region-list" hx-swap="innerHTML">Enable All</button>
        <button class="btn btn-sm btn-outline" hx-put="/settings/regions/all?enabled=false" hx-target="#region-list" hx-swap="innerHTML">Disable All</button>
      </div>
      <div class="region-list" id="region-list">
        {{template "region-list" .Regions}}
      </div>
    </div>
  </div>
</div>{{end}}

{{define "region-list"}}{{range .}}<label class="region-item">
  <input type="checkbox" {{if .Enabled}}checked{{end}}
    hx-put="/settings/regions/{{.Name}}?enabled={{not .Enabled}}"
    hx-target="#region-list"
    hx-swap="innerHTML">
  <span>{{.Name}}</span>
</label>{{end}}{{end}}
